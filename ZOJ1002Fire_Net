#include <iostream>
#include <stdio.h>
int n, res, max;
char a[6][6];
using namespace std;
bool is_legal(int i, int j);
void DFS(int sum);
int main()
{
	while (cin >> n && n)
	{
		
		for (int i = 0; i < n; i++)
		{
			getchar();
			for (int j = 0; j < n; j++)
				scanf_s("%c", &a[i][j],sizeof(a[i][j]));
		}
		DFS(0);   //从第0个位置开始寻找
		cout << res << endl;
		res = 0;
		max = 0;
	}

}

bool is_legal(int i, int j)
{
	for (int h = i - 1; h >= 0; h--)
	{
		if (a[h][j] == 'o')
		{
			return false;
		}
		if (a[h][j] == 'X')
		{
			break;
		}
	}
	for (int k = j - 1; j >= 0; j--)
	{
		if (a[i][k] == 'o')
		{
			return false;
		}
		if (a[i][k] == 'X')
		{
			return true;
		}
	}
	return true;
}
void DFS(int sum )   //sum 为已经检查的节点总个数
{
	int j = sum / n;
	int k = sum % n;
	if (sum == n*n)
	{
		/*cout << "*****************************" << endl;
		for (int i = 0; i < n; i++)
		{
			for (int j = 0; j < n; j++)
			{
				cout << a[i][j];
			}
			cout << endl;
		}*/
		if (max > res)
		{
			res = max;			
		}		
		return;
	}
	else
	{
		if (a[j][k] == '.' && is_legal(j, k))
		{
			a[j][k] = 'o';
			max += 1;
			DFS(sum + 1);
			a[j][k] = '.';
		}
		else
		{
			DFS(sum + 1);
		}
	}
}
